<body>
    <script>
        function httpGet(theUrl) {
            var xmlHttp = new XMLHttpRequest();
            xmlHttp.open("GET", `https://cors-anywhere.herokuapp.com/${theUrl}`, false); // false for synchronous request
            xmlHttp.send(null);
            return xmlHttp.response;
        }

        function cleanPage() {
            window.addEventListener('DOMContentLoaded', (event) => {
                const elementToObserve = document.getElementById('headlessui-portal-root');

                const observer = new MutationObserver(() => {
                    const doesPopupExist = document.querySelector('.text-sm.font-light')
                    console.log(document.querySelector('.text-sm.font-light'))
                    if (doesPopupExist) {
                        console.log("does this run?")

                        // set text to kvantitet instead of quantity
                        document.querySelector(".text-sm.font-light").innerText = "Kvantitet"

                        // remove add to card button
                        const btn = document.querySelector('.bg-green-shopify')
                        btn.parentElement.parentElement.remove()
                    }
                });

                observer.observe(elementToObserve, { subtree: true, childList: true });
            });

        }

        const result = httpGet("linkpop.com/100unika")
        document.open("text/html")
        document.write(result)
        cleanPage()
        document.close()
    </script>
</body>