<body>
    <script>
        function httpGet(theUrl) {
            var xmlHttp = new XMLHttpRequest();
            xmlHttp.open("GET", `https://cors-anywhere.herokuapp.com/${theUrl}`, false); // false for synchronous request
            xmlHttp.send(null);
            return xmlHttp.response;
        }

        function cleanPage() {
            const elementToObserve = document.querySelector('#mainContent');

            const observer = new MutationObserver(() => {
                const doesPopupExist = document.querySelector('div[data-testid="product-popup"]')
                
                console.log(doesPopupExist)
                if (doesPopupExist) {
                    
                    // set text to kvantitet instead of quantity
                    document.querySelector(".text-sm.font-light").innerText = "Kvantitet"

                    // remove add to card button
                    const btn = document.querySelector('.bg-green-shopify')
                    btn.parentElement.parentElement.remove()
                }
            });

            observer.observe(elementToObserve, { subtree: true, childList: true });
        }

        const result = httpGet("linkpop.com/100unika")
        document.open("text/html")
        document.write(result)
        console.log(document.querySelector("#mainContent"))
        cleanPage()
        document.close()
    </script>
</body>